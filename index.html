<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªùi t·ª´ tr√°i tim ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="intro-screen">
        <div class="intro-content">
            <img src="tiger.png" alt="G·∫•u d·ªÖ th∆∞∆°ng" class="bear-sticker">
            <h2>C√≥ m·ªôt l√° th∆∞ g·ª≠i ƒë·∫øn em!</h2>
            <div id="open-letter-btn" title="Nh·∫•n v√†o ƒë·ªÉ m·ªü">üíå</div>
        </div>
    </div>

    <div id="main-content">
        <div class="heart-container">
            </div>

        <div class="message-box">
            <p id="message"></p>
        </div>
    </div>


    <script>
        // --- L·ªùi nh·∫Øn c·ªßa b·∫°n ---
        const messages = [
            "Ch√†o em,",
            "Anh vi·∫øt v√†i d√≤ng n√†y v√¨ c√≥ ƒëi·ªÅu mu·ªën chia s·∫ª...",
            "M·∫•y ng√†y qua, nh·ªØng l√∫c ƒë∆∞·ª£c n√≥i chuy·ªán v·ªõi em ...",
            "Anh lu√¥n c·∫£m th·∫•y r·∫•t vui v√† ƒë·∫∑c bi·ªát b√¨nh y√™n.",
            "Anh th·∫≠t s·ª± tr√¢n tr·ªçng nh·ªØng kho·∫£nh kh·∫Øc ƒë√≥.",
            "V√† anh hy v·ªçng r·∫±ng...",
            "Ch√∫ng m√¨nh s·∫Ω c√≥ th√™m th·∫≠t nhi·ªÅu c∆° h·ªôi h∆°n n·ªØa ƒë·ªÉ t√¨m hi·ªÉu nhau,",
            "C√πng t√¨m hi·ªÉu v√† vi·∫øt n√™n c√¢u chuy·ªán c·ªßa ch√∫ng ta.",
            "Em nh√©!"
        ];
        // ----------------------------------------------------

        const introScreen = document.getElementById('intro-screen');
        const mainContent = document.getElementById('main-content');
        const openLetterBtn = document.getElementById('open-letter-btn');
        const messageEl = document.getElementById('message');
        
        let messageIndex = 0;
        let charIndex = 0;

        // S·ª± ki·ªán khi nh·∫•p v√†o l√° th∆∞
        openLetterBtn.addEventListener('click', function() {
            // L√†m m·ªù v√† ·∫©n m√†n h√¨nh ch·ªù
            introScreen.style.opacity = '0';
            setTimeout(() => {
                introScreen.style.display = 'none';
            }, 1000); // 1 gi√¢y, kh·ªõp v·ªõi transition trong CSS

            // Hi·ªÉn th·ªã n·ªôi dung ch√≠nh
            mainContent.style.display = 'block';
            setTimeout(() => {
                mainContent.style.opacity = '1';
            }, 100); // Hi·ªán ra ngay sau ƒë√≥

            // B·∫Øt ƒë·∫ßu t·∫°o tr√°i tim v√† g√µ ch·ªØ SAU KHI m·ªü th∆∞
            startAnimation();
        });

        function startAnimation() {
            // T·∫°o c√°c tr√°i tim
            const heartContainer = document.querySelector('.heart-container');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 3 + 4 + 's';
                heart.style.animationDelay = Math.random() * 3 + 's';
                heartContainer.appendChild(heart);
            }
            // B·∫Øt ƒë·∫ßu g√µ ch·ªØ
            typeMessage();
        }

        function typeMessage() {
            if (messageIndex < messages.length) {
                if (charIndex < messages[messageIndex].length) {
                    messageEl.textContent += messages[messageIndex].charAt(charIndex);
                    charIndex++;
                    setTimeout(typeMessage, 120);
                } else {
                    setTimeout(nextMessage, 2000);
                }
            }
        }

        function nextMessage() {
            messageIndex++;
            charIndex = 0;
            messageEl.textContent = '';
            typeMessage();
        }

    </script>

</body>
</html>