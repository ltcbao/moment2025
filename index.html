<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªùi t·ª´ tr√°i tim ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <audio id="background-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="intro-screen">
        <div class="intro-content">
            <img src="tiger.png" alt="G·∫•u d·ªÖ th∆∞∆°ng" class="bear-sticker">
            <h2>C√≥ m·ªôt l√° th∆∞ g·ª≠i ƒë·∫øn em!</h2>
            <div id="open-letter-btn" title="Nh·∫•n v√†o ƒë·ªÉ m·ªü">üíå</div>
        </div>
    </div>

    <div id="main-content">
        <div class="heart-container"></div>
        <div class="message-box">
            <p id="message"></p>
        </div>
    </div>


    <script>
        
        // --- L·ªùi nh·∫Øn c·ªßa b·∫°n ---
          const messages = [

        "Ch√†o em,",

        "Anh vi·∫øt v√†i d√≤ng n√†y v√¨ c√≥ ƒëi·ªÅu mu·ªën chia s·∫ª...",

        "V√†i ng√†y qua, nh·ªØng l√∫c ƒë∆∞·ª£c n√≥i chuy·ªán v·ªõi em...",

        "Anh lu√¥n c·∫£m th·∫•y r·∫•t vui v√† ƒë·∫∑c bi·ªát b√¨nh y√™n.",

        "Anh th·∫≠t s·ª± tr√¢n tr·ªçng nh·ªØng kho·∫£nh kh·∫Øc ƒë√≥.",

        "V√† anh hy v·ªçng r·∫±ng...",

        "M√¨nh s·∫Ω c√≥ th√™m th·∫≠t nhi·ªÅu c∆° h·ªôi h∆°n n·ªØa ƒë·ªÉ t√¨m hi·ªÉu v√† c√≥ th√™m nhi·ªÅu k·ªâ ni·ªám v·ªõi nhau ....",

        "Em nh√©?"

    ];
        // ----------------------------------------------------

        const introScreen = document.getElementById('intro-screen');
        const mainContent = document.getElementById('main-content');
        const openLetterBtn = document.getElementById('open-letter-btn');
        const messageEl = document.getElementById('message');
        const music = document.getElementById('background-music'); // L·∫•y th·∫ª audio
        
        let messageIndex = 0;
        let charIndex = 0;

        openLetterBtn.addEventListener('click', function() {
            introScreen.style.opacity = '0';
            setTimeout(() => {
                introScreen.style.display = 'none';
            }, 1000);

            mainContent.style.display = 'flex'; 
            setTimeout(() => {
                mainContent.style.opacity = '1';
            }, 100); 

            // ‚≠ê PH√ÅT NH·∫†C KHI M·ªû TH∆Ø
            music.play();

            startAnimation();
        });

        function startAnimation() {
            const heartContainer = document.querySelector('.heart-container');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 3 + 4 + 's';
                heart.style.animationDelay = Math.random() * 3 + 's';
                heartContainer.appendChild(heart);
            }
            typeMessage();
        }

        function typeMessage() {
            if (messageIndex < messages.length) {
                if (charIndex < messages[messageIndex].length) {
                    messageEl.textContent += messages[messageIndex].charAt(charIndex);
                    charIndex++;
                    setTimeout(typeMessage, 120);
                } else {
                    setTimeout(nextMessage, 2000);
                }
            }
        }

        function nextMessage() {
            messageIndex++;
            charIndex = 0;
            messageEl.textContent = '';
            typeMessage();
        }
    </script>

</body>
</html>